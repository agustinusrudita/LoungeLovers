<html>
<head>
  <meta charset="utf-8">
  <!-- http://garden.zendesk.com -->
  <link rel="stylesheet" href="https://assets.zendesk.com/apps/sdk-assets/css/0/zendesk_garden.css" type="text/css">
</head>
<body>
  <ul>
    <li>
      <div class="u-bg-snow u-p-sm u-mb-sm">
        <h2 class="u-gamma">Generate Technician Ticket</h2>
        <br>  
        <button class="edit c-btn" onclick="initTech();">Preview Technician</button>
      </div>
    </li>
    <li>
      <div class="u-bg-snow u-p-sm u-mb-sm">
        <h2 class="u-gamma">Generate Supplier Ticket</h2>
        <br>  
        <button class="edit c-btn" onclick="initSupl();">Preview Supplier</button>
      </div>
    </li>
  </ul>
    
  <!-- https://github.com/zendesk/zendesk_app_framework_sdk -->
  <script type="text/javascript" src="https://assets.zendesk.com/apps/sdk/2.0/zaf_sdk.js"></script>
  <script>    
    var client = ZAFClient.init();
    client.invoke('resize', { width: '100%', height: '200px' });    
    function initTech(){
      client.context().then(create_modal_tech);
    };
    function initSupl(){
      client.context().then(create_modal_supl);
    };
    //When we create the modal we send the current client's guid as a hash parameter to the modal by adding it to the url
    function create_modal_tech(context){
      var parent_guid = context.instanceGuid;
      var options = {
        location: "modal",
        url: "assets/modalTech.html#parent_guid=" + parent_guid
      }
      client.invoke('instances.create', options)
    };

    function create_modal_supl(context){
      var parent_guid = context.instanceGuid;
      var options = {
        location: "modal",
        url: "assets/modalSupl.html#parent_guid=" + parent_guid
      }
      client.invoke('instances.create', options)
    };
    
    function mainEl() {
      return document.querySelector('section[data-main]');
    } 
    
    function generate_modal_data(){
    };
  </script>
</body>
</html>